<h3 class="doc-title">Dynamic Line</h3>

<p>
    A line chart that adds and removes points every half second, and uses Datetime as X.
</p>

<div class="text-center">
    <img src="/App/Examples/Images/dynamicline.gif"/>
</div>

<p>
    Let's define a class as follows
</p>

<pre class="prettyprint">
 public class WeatherViewModel
 {
   public double Temperature { get; set; }
   public DateTime DateTime { get; set; }
 }
</pre>

<p>
    Add a new window to you solution and replace Window1.cs with the following code:
</p>

<pre class="prettyprint">
using System;
using System.Windows;
using System.Windows.Threading;
using LiveCharts;

namespace ChartsTest.Line_Examples.DynamicLine
{
  public partial class DynamicLine
  {
  
    public DynamicLine()
    {
    
      InitializeComponent();
      
      //In this case we will not only plot double values
      //to make it easier to handle "live-data" we are going to use WeatherViewModel class
      //we need to let LiveCharts know how to use this model
      //first we create a new configuration for WeatherViewModel
      var config = new SeriesConfiguration&lt;WeatherViewModel&gt;();
      //now we map X and Y
      //we will use Temperature as Y
      config.Y(model => model.Temperature);
      //and DateTime as X, we convert to OADate so we can plot it easly.
      config.X(model => model.DateTime.ToOADate());
      
      //now we create our series with this configuration
      Series = new SeriesCollection(config) 
      {
        new LineSeries {Values = new ChartValues&lt;WeatherViewModel&gt;(), PointRadius = 0}
      };
      
      //to display a custom label we will use a formatter,
      //formatters are just functions that take a double value as parameter
      //and return a string, in this case we will convert the OADate to DateTime
      //and then use a custom date format
      XFormatter = val => DateTime.FromOADate(val).ToString("hh:mm:ss tt");
      
      //now for Y we are rounding and adding ° for degrees
      YFormatter = val => Math.Round(val) + " °";
      
      //Don't forget DataContext so we can bind these properties.
      DataContext = this;
     
    }
    
    public SeriesCollection Series { get; set; }
    public Func&lt;double, string&gt; YFormatter { get; set; }
    public Func&lt;double, string&gt; XFormatter { get; set; }
  }
}
</pre>

<p>
    Add the chart to your <i>XAML</i>
</p>

<pre class="prettyprint">
&lt;lvc:LineChart Series="{Binding Series}"&gt;
  &lt;lvc:LineChart.AxisX&gt;
    &lt;lvc:Axis LabelFormatter="{Binding XFormatter}" Separator="{x:Static lvc:DefaultAxes.CleanSeparator}" /&gt;
  &lt;/lvc:LineChart.AxisX&gt;
  &lt;lvc:LineChart.AxisY&gt;
    &lt;lvc:Axis LabelFormatter="{Binding YFormatter}"&gt;&lt;/lvc:Axis&gt;
  &lt;/lvc:LineChart.AxisY&gt;
&lt;/lvc:LineChart&gt;
</pre>

<p>
    Live Chart is now ready and listening to any changes, let's create a timer with an interval of 0.5 seconds,
    in the tick event add the next code:
</p>

<pre class="prettyprint">
var r = new Random();
foreach (var series in Series)
{
  if (series.Values.Count > 10) series.Values.RemoveAt(0);
  series.Values.Add(new WeatherViewModel
  {
    Temperature = r.NextDouble()*30,
    DateTime = DateTime.Now
  });
}
</pre>